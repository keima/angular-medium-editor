/**
 * angular-medium-editor
 * @version v0.1.0 - 2015-07-17
 * @link https://github.com/thijsw/angular-medium-editor
 * @author Thijs Wijnmaalen <thijs@wijnmaalen.name>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("angular-medium-editor",["ngSanitize"]).directive("mediumEditor",["$sanitize",function(a){return{require:"ngModel",restrict:"AE",scope:{bindOptions:"="},link:function(b,c,d,e){angular.element(c).addClass("angular-medium-editor");var f={},g="",h=function(){d.options&&(f=b.$eval(d.options));var a={};void 0!==b.bindOptions&&(a=b.bindOptions),f=angular.extend(f,a)};h(),g=f.placeholder,b.$watch("bindOptions",function(){e.editor&&e.editor.destroy(),h(),e.$isEmpty(e.$viewValue)||(f.placeholder=""),e.editor=new MediumEditor(c,f)});var i=function(){b.$apply(function(){if("<p><br></p>"===c.html()||""===c.html()){f.placeholder=g;new MediumEditor(c,f)}e.$setViewValue(c.html())})};c.on("blur",i),c.on("input",i),e.$render=function(){this.editor||(e.$isEmpty(e.$viewValue)||(f.placeholder=""),this.editor=new MediumEditor(c,f)),c.html(a(e.$viewValue)),e.$isEmpty(e.$viewValue)||angular.element(c).removeClass("medium-editor-placeholder")}}}}]);